<!doctype html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="{{ shop.locale }}"> <![endif]-->
<!--[if IE 9 ]><html class="ie9 no-js"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js" lang="{{ shop.locale }}"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <link rel="canonical" href="{{ canonical_url }}">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="theme-color" content="{{ settings.primary_background_color }}">
  <link rel="preconnect" href="https://cdn.shopify.com">
  <link rel="dns-prefetch" href="https://cdn.shopify.com">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link rel="stylesheet" href="https://use.typekit.net/hpj1ehc.css">  

  <!-- SLICK SLICK SLICK -->
  <!-- Add the slick-theme.css if you want default styling -->
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.0/slick/slick.css"/>
  <!-- Add the slick-theme.css if you want default styling -->
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.0/slick/slick-theme.css"/>
  
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">
  
  <!– Anti-flicker snippet (recommended) –>
  <style>.async-hide { opacity: 0 !important} </style>
  
  <script src="https://www.googleoptimize.com/optimize.js?id=OPT-MP88NFR"></script>
  <!– Anti-flicker snippet (recommended) –>
  <style>.async-hide { opacity: 0 !important} </style>  
  {%- if settings.favicon != blank -%}
  <link rel="apple-touch-icon" sizes="180x180" href="{{ settings.favicon | img_url: '180x180' }}">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ settings.favicon | img_url: '32x32' }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ settings.favicon | img_url: '16x16' }}">
  <link rel="mask-icon" color="{{ settings.primary_accent_color }}">
  {%- endif -%}
  
  <title>
    {{ page_title }}{% if current_tags %}{% assign meta_tags = current_tags | join: ', ' %} &ndash; {{ 'general.meta.tags' | t: tags: meta_tags }}{% endif %}{% if current_page != 1 %} &ndash; {{ 'general.meta.page' | t: page: current_page }}{% endif %}{% unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless %}
  </title>

  {%- if page_description -%}
    <meta name="description" content="{{ page_description | escape }}">
  {%- endif -%}

  {%- include 'social-meta-tags' -%}

  <script type="text/javascript">
    window.lazySizesConfig = window.lazySizesConfig || {};
    window.lazySizesConfig.loadMode = 1;
  </script>
  <!--[if (gt IE 9)|!(IE)]><!--><script src="{{ 'lazysizes.min.js' | asset_url }}" async="async"></script><!--<![endif]-->
  <!--[if lte IE 9]><script src="{{ 'lazysizes.min.js' | asset_url }}"></script><![endif]-->
  
  <link rel="preload" href="{{ 'theme.scss.css' | asset_url }}" as="style" onload="this.rel='stylesheet'">
  {{- 'theme.scss.css' | asset_url | stylesheet_tag -}}
  {{- '  turnpup.css' | asset_url | stylesheet_tag -}}

  {%- if template contains 'customers' -%}
    {{ 'shopify_common.js' | shopify_asset_url | script_tag }}
  {%- endif -%}
  {% style %}
    :root {
      --hapny-red: {{ settings.hapny_red }};
      --hapny-yellow: {{ settings.hapny_yellow }};
      --hapny-blue: {{ settings.hapny_blue }};
    }
  {% endstyle %}
  
  <script>
    window.TurnpupObject = window.TurnpupObject || {};
    var testTurnpup = "alex turney"; // also works
    {% include 'turnpup-global-object' %}
    window.StyleHatch = window.StyleHatch || {};
    {% include 'js-language-strings' %}
    StyleHatch.currencyFormat = {{ shop.money_format | json }};
    StyleHatch.ajaxCartEnable = {{ settings.ajax_cart_enable }};
    StyleHatch.cartData = {{ cart | json }};
    StyleHatch.routes = {
      root_url: '{{ routes.root_url }}',
      account_url: '{{ routes.account_url }}',
      account_login_url: '{{ routes.account_login_url }}',
      account_logout_url: '{{ routes.account_logout_url }}',
      account_recover_url: '{{ routes.account_recover_url }}',
      account_register_url: '{{ routes.account_register_url }}',
      account_addresses_url: '{{ routes.account_addresses_url }}',
      collections_url: '{{ routes.collections_url }}',
      all_products_collection_url: '{{ routes.all_products_collection_url }}',
      search_url: '{{ routes.search_url }}',
      cart_url: '{{ routes.cart_url }}',
      cart_add_url: '{{ routes.cart_add_url }}',
      cart_change_url: '{{ routes.cart_change_url }}',
      cart_clear_url: '{{ routes.cart_clear_url }}',
      product_recommendations_url: '{{ routes.product_recommendations_url }}'
    };
    // Post defer
    window.addEventListener('DOMContentLoaded', function() {
      (function( $ ) {
      {%- comment -%}
        Add JavaScript functionality that relies on jQuery here
        this will allow jQuery to properly load before the calls are made
      {%- endcomment -%}
      $('input#email').focus(function() {
          $(this).attr('placeholder', '')
      }).blur(function() {
          $(this).attr('placeholder', 'email@example.com')
      })      
        
      {%- if newHash -%}
        $(function() {
          StyleHatch.updateHash('{{ newHash }}');
        });
      {%- endif -%}
      {%- if resetPassword -%}
        $(function() {
          StyleHatch.resetPasswordSuccess();
        });
      {%- endif -%}
      })(jq223);
    });
    document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
  </script>
  <script>
    var isScrolling;
    if ({{ settings.nav_transparent_after_scroll }}) {
      var scrollStop = function (callback) {
        document.addEventListener("scroll", function(ev) {
        // this runs anytime that the document is scrolled and gets set up at the start of the page.    
          window.clearTimeout( isScrolling );
          isScrolling = setTimeout(function() { console.log("timeout - call callback");callback() }, {{ settings.time_to_transparent_header }} );
          if (document.getElementById('shopify-section-header').classList.contains('turnpupNavEnabled')){
            if (window.scrollY == 0){
              var nav_link_array = document.getElementsByClassName("tpup_nav_link");
              for (i = 0; i < nav_link_array.length; i++) {
                nav_link_array[i].classList.remove("tpup_nav_link_scrolled");
                nav_link_array[i].className += " tpup_nav_link_top";
              }
              document.getElementById('shopify-section-header').classList.remove("turnpupNavEnabled");
              document.getElementById('shopify-section-header').className += " turnpupNavDisabled";
            }
          } 
          else {
            if (window.scrollY != 0) {
              var nav_link_array = document.getElementsByClassName("tpup_nav_link");
              for (i = 0; i < nav_link_array.length; i++) {
                nav_link_array[i].classList.remove("tpup_nav_link_top");
                nav_link_array[i].className += " tpup_nav_link_scrolled";
              }
              document.getElementById('shopify-section-header').classList.remove("turnpupNavDisabled");
              document.getElementById('shopify-section-header').className += " turnpupNavEnabled";
            }
          }           
        }, false);
      }
      // this actually calls the function above if first condition in script is met
      scrollStop(function () {
        // below is the old callback function that was causing the page to show up as scrolled
        document.getElementById('shopify-section-header').classList.remove("turnpupNavEnabled");
        document.getElementById('shopify-section-header').className += " turnpupNavDisabled";
      });
    } else {
		document.addEventListener("scroll", function(ev){
         if (document.getElementById('shopify-section-header').classList.contains('turnpupNavEnabled')){
          if (window.scrollY == 0){
            var nav_link_array = document.getElementsByClassName("tpup_nav_link");
            for (i = 0; i < nav_link_array.length; i++) {
              nav_link_array[i].classList.remove("tpup_nav_link_scrolled");
              nav_link_array[i].className += " tpup_nav_link_top";
            }
            document.getElementById('shopify-section-header').classList.remove("turnpupNavEnabled");
            document.getElementById('shopify-section-header').className += " turnpupNavDisabled";
          }
         } else {
           if (window.scrollY != 0){
            var nav_link_array = document.getElementsByClassName("tpup_nav_link");
            for (i = 0; i < nav_link_array.length; i++) {
              nav_link_array[i].classList.remove("tpup_nav_link_top");
              nav_link_array[i].className += " tpup_nav_link_scrolled";
            }
            document.getElementById('shopify-section-header').classList.remove("turnpupNavDisabled");
            document.getElementById('shopify-section-header').className += " turnpupNavEnabled";
           }
         }
       });
    }
  </script>
  <script>
    window.addEventListener('DOMContentLoaded', function() {
      (function($){

        /**
         * Copyright 2012, Digital Fusion
         * Licensed under the MIT license.
         * http://teamdf.com/jquery-plugins/license/
         *
         * @author Sam Sehnert
         * @desc A small plugin that checks whether elements are within
         *       the user visible viewport of a web browser.
         *       only accounts for vertical position, not horizontal.
         */
        var $w = $(window);
        $.fn.visible = function(partial,hidden,direction){

            if (this.length < 1)
                return;

            var $t        = this.length > 1 ? this.eq(0) : this,
                t         = $t.get(0),
                vpWidth   = $w.width(),
                vpHeight  = $w.height(),
                direction = (direction) ? direction : 'both',
                clientSize = hidden === true ? t.offsetWidth * t.offsetHeight : true;

            if (typeof t.getBoundingClientRect === 'function'){

                // Use this native browser method, if available.
                var rec = t.getBoundingClientRect(),
                    tViz = rec.top    >= 0 && rec.top    <  vpHeight,
                    bViz = rec.bottom >  0 && rec.bottom <= vpHeight,
                    lViz = rec.left   >= 0 && rec.left   <  vpWidth,
                    rViz = rec.right  >  0 && rec.right  <= vpWidth,
                    vVisible   = partial ? tViz || bViz : tViz && bViz,
                    hVisible   = partial ? lViz || rViz : lViz && rViz;

                if(direction === 'both')
                    return clientSize && vVisible && hVisible;
                else if(direction === 'vertical')
                    return clientSize && vVisible;
                else if(direction === 'horizontal')
                    return clientSize && hVisible;
            } else {

                var viewTop         = $w.scrollTop(),
                    viewBottom      = viewTop + vpHeight,
                    viewLeft        = $w.scrollLeft(),
                    viewRight       = viewLeft + vpWidth,
                    offset          = $t.offset(),
                    _top            = offset.top,
                    _bottom         = _top + $t.height(),
                    _left           = offset.left,
                    _right          = _left + $t.width(),
                    compareTop      = partial === true ? _bottom : _top,
                    compareBottom   = partial === true ? _top : _bottom,
                    compareLeft     = partial === true ? _right : _left,
                    compareRight    = partial === true ? _left : _right;

                if(direction === 'both')
                    return !!clientSize && ((compareBottom <= viewBottom) && (compareTop >= viewTop)) && ((compareRight <= viewRight) && (compareLeft >= viewLeft));
                else if(direction === 'vertical')
                    return !!clientSize && ((compareBottom <= viewBottom) && (compareTop >= viewTop));
                else if(direction === 'horizontal')
                    return !!clientSize && ((compareRight <= viewRight) && (compareLeft >= viewLeft));
            }
        };

    })(jQuery);

    var win = $(window);

    var allMods = $(".module");
    var allModsLeft = $(".module-left");

    allMods.each(function(i, el) {
      var el = $(el);
      var eltop = el.offset().top;
      var bottomOfWindow = window.innerHeight + window.scrollY;
	  //console.log(el, eltop, bottomOfWindow);
      if (eltop < bottomOfWindow) {
      	el.addClass("already-visible"); 
      }
      else if (el.visible(true)) {
        el.addClass("already-visible"); 
      } 
    });
      
    allModsLeft.each(function(i, el) {
    var el = $(el);
    var eltop = el.offset().top;
    var bottomOfWindow = window.innerHeight + window.scrollY;
    //console.log(el, eltop, bottomOfWindow);
    if (eltop < bottomOfWindow) {
      el.addClass("already-visible"); 
    }
    else if (el.visible(true)) {
      el.addClass("already-visible"); 
    } 
    });

    win.scroll(function(event) {

      allMods.each(function(i, el) {
        var el = $(el);
        if (el.visible(true)) {
          el.addClass("come-in"); 
        } 
      });
      
      allModsLeft.each(function(i, el) {
        var el = $(el);
        if (el.visible(true)) {
          el.addClass("come-in-left"); 
        } 
      });

    });     
      
  });
  </script>
  <!--[if (gt IE 9)|!(IE)]><!--><!--<![endif]-->
  <script src="{{ 'vendor.js' | asset_url }}"></script>
  <!--[if lte IE 9]><script src="{{ 'vendor.js' | asset_url }}"></script><![endif]-->
  <script src="{{ 'theme.js' | asset_url }}"></script>
  <script src="{{ 'turnpup.js' | asset_url }}"></script>
  <script src="{{ 'global.js' | asset_url }}" defer="defer"></script>
    <script
  src="https://code.jquery.com/jquery-3.6.0.js"
  integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
  crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.0/slick/slick.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lettering.js/0.7.0/jquery.lettering.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lettering.js/0.7.0/jquery.lettering.js" defer="defer"></script>
  <script>    
    $(document).ready(function() {
      var tp_nav = document.getElementById("tp_nav");
      if ( !{{ settings.turnpup_nav_hide_homepage_before_scroll }} ) { tp_nav.classList.add("border_nav"); }
      if ( $(window).scrollTop() >= 4 ) {
          if ( window.location.pathname == '/' ){
            $('.site-header').css('background-color', '{{ settings.site_header_background_color_homepage }}'
                                 );
          } else {
            $('.site-header').css('background-color', '{{ settings.site_header_background_color }}'
                                 );
            tp_nav.classList.add("border_nav");
          }
      } else {
        if ( window.location.pathname == '/' ){
          $('.site-header').css('background-color', '{{ settings.site_header_zero_scroll_background_color_homepage }}'
                               );
        } else {
          $('.site-header').css('background-color', '{{ settings.site_header_zero_scroll_background_color }}'
                               );
          tp_nav.classList.add("border_nav");
        }
      }; 

      $(window).scroll(function() {
        if ( $(window).scrollTop() >= 4 ) {
          if ( window.location.pathname == '/' ){
            $('.site-header').css('background-color', '{{ settings.site_header_background_color_homepage }}'
                                 );
          } else {
            $('.site-header').css('background-color', '{{ settings.site_header_background_color }}'
                                 );
          }
          tp_nav.classList.add("border_nav");
        } else {
          if ( window.location.pathname == '/' ){
            $('.site-header').css('background-color', '{{ settings.site_header_zero_scroll_background_color_homepage }}'
                                 );
            if ( {{ settings.turnpup_nav_hide_homepage_before_scroll }} ) { tp_nav.classList.remove("border_nav"); }
          } else {
            $('.site-header').css('background-color', '{{ settings.site_header_zero_scroll_background_color }}'
                                 );
            tp_nav.classList.add("border_nav");
          }
        }; 
      });
   })      
  </script>
  
  
    <!-- MOBILE SCRIPT -->
    <script>    
      $(document).ready(function() {
        var mobile_nav_header = document.getElementById("fixed_mobile_nav_bar");
        if ( $(window).scrollTop() >= 4 ) {
          mobile_nav_header.classList.add("blackBorder");
        } else {
          mobile_nav_header.classList.remove("blackBorder");
        }

        $(window).scroll(function() {
          if ( $(window).scrollTop() >= 4 ) {
            mobile_nav_header.classList.add("blackBorder");
          } else {
            mobile_nav_header.classList.remove("blackBorder");
          }
        })
      });      
    </script>
  
 
  <script> // turnpup add this for checkboxes
    $(document).ready(function()
      {
        $('.sidemenu_checkbox').change(function() 
        {
          if(this.checked == true)
          {
            console.log("unchecked --> checked");
            var newURL = $(this).nextAll('a').attr('href');
            window.location.href = newURL;
          }
          else 
          {
            console.log("checked --> unchecked"); 
            var newURL = $(this).nextAll('a').attr('href');
            window.location.href = newURL;
          }
        });   
      });
  </script>
  <script>    

    $(document).ready(function() {       
      
      var popup_email_last_value = $(".popup-email .input-group-field").val();
      var footer_last_value = $(".site-footer .input-group-field").val();


      $(".popup-email .input-group-field").on("input keyup change", function () {
       
//         $(".site-footer input::-webkit-input-placeholder").css('color','white');
//         $(".site-footer input::placeholder").css('color','white');
//         $(".site-footer input").css('color','white');
        
        if (this.value === popup_email_last_value) {
          console.log('no change to popup email');
          popup_email_last_value = this.value;
        } else {
          console.log('change to popup email');
          popup_email_last_value = this.value;
          var tp_value = $(this).val();
          $(".newsletter_user_input").text(tp_value);
          $(".newsletter_user_input").lettering('');
          if (tp_value != '' && tp_value != null) {
            console.log("text --> .popup-email");  
          } else {
            console.log("No text --> .popup-email");                          
          }
        }          
      })   
      
      $(".site-footer .input-group-field").on("input keyup change", function () {
        if (this.value === footer_last_value) {
          console.log('no change to footer');
          footer_last_value = this.value;
        } else {
          footer_last_value = this.value;
          var tp_value = $(this).val();
          $(".footer_newsletter_user_input").text(tp_value);
          $(".footer_newsletter_user_input").lettering('');
        }          
      })
                  
      });      
      
  </script>
  
    <script>
    (function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;
  h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
  (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
  })(window,document.documentElement,'async-hide','dataLayer',4000,
  {'GTM-NRMX4TS':true});
  </script>
  {{ content_for_header }}
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "apxpbqmb1q");
  </script>

  <!--  FLWR DATA LATER  -->
  <script>
    window.addEventListener('DOMContentLoaded', function() {

    window.dataLayer = window.dataLayer || [];      
    {% case template %}
      {% when 'product.showroom-product' %}
        dataLayer.push({ ecommerce: null });  // Clear the previous ecommerce object.
        dataLayer.push({
          event: "view_item",
          ecommerce: {
            items: [
            {
              item_id: "{{ product.id }}",
              item_name: "{{ product.title }}",
              currency: "USD",
              item_brand: "Hapny",
              price: {{ product.price | money_without_currency }},
            }
            ]
          }
        });        
        window.dataLayer.push({
          'product_title': '{{ product.title }}'
        });
        console.log("view item complete to dataLayer");
        dataLayer.push({event:'flwr-website-load'});
      {% when 'never happens' %}
        
      {% else %}

      {% endcase %}
      
  })

  </script>
  
{% include 'storeifyapps-storelocator-header' %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>

</head>

<body id="{{ page_title | handle }}" class="{% if customer %}customer-logged-in {% endif %}template-{{ template | replace: '.', ' ' | truncatewords: 1, '' | handle }}" data-template-directory="{{ template.directory }}" data-template="{{ template.name }}" >
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NRMX4TS"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  
  <div id="page">
    {% section 'promos' %}
    {% include 'header-util' %}
    {% section 'header' %}
	<!-- TURNPUP add style="margin-top:-70px;  style="position:absolute;top:-70px;""-->
    <main class="main-content main-content--breadcrumb-{{ settings.show_breadcrumbs }}" role="main">
      {{ content_for_layout }}
    </main>

    {% section 'footer' %}
  </div>
  
  
  <script type="text/javascript">
  $(document).ready(function(){
    const slickOptions = {
      slidesToShow: 1,
      arrows: false,
      focusOnSelect: true,
      adaptiveHeight: true,
      dots: true,
      infinite: true
    }
    $('.social-slick').slick(slickOptions)

    window.addEventListener("resize", function(){
      $('.js-publications').not('.slick-initialized').slick(slickOptions);
    });
  })
  </script>
  
  <!-- District v3.9.2 -->
{% include 'storeifyapps-storelocator-footer' %}
</body>
</html>
